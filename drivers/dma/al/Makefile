MAKEFILE_DIR:=$(dir $(word $(words $(MAKEFILE_LIST)),$(MAKEFILE_LIST)))

KBUILD_CPPFLAGS += -Iarch/arm/mach-alpine/include/al_hal/
ifeq ($(CONFIG_SYNO_ALPINE_V2_5_3),y)
KBUILD_CPPFLAGS += -Iarch/arm/mach-alpine/include/mach/
endif
KBUILD_CPPFLAGS += -I$(MAKEFILE_DIR)/al_hal_raid/

obj-$(CONFIG_AL_DMA) += al_dma.o
obj-$(CONFIG_AL_DMA) += al_dma_core.o
obj-$(CONFIG_AL_DMA) += al_dma_cleanup.o
obj-$(CONFIG_AL_DMA) += al_dma_sysfs.o
obj-$(CONFIG_AL_DMA) += al_dma_prep_interrupt.o
obj-$(CONFIG_AL_DMA) += al_dma_prep_memcpy.o
obj-$(CONFIG_AL_DMA) += al_dma_prep_sg.o
obj-$(CONFIG_AL_DMA) += al_dma_prep_memset.o
obj-$(CONFIG_AL_DMA) += al_dma_prep_xor.o
obj-$(CONFIG_AL_DMA) += al_dma_prep_xor_val.o
obj-$(CONFIG_AL_DMA) += al_dma_prep_pq.o
obj-$(CONFIG_AL_DMA) += al_dma_prep_pq_val.o
ifeq ($(CONFIG_SYNO_ALPINE_V2_5_3),y)
obj-$(CONFIG_AL_DMA) += al_hal_ssm_raid.o
else
obj-$(CONFIG_AL_DMA) += al_hal_raid.o
endif

